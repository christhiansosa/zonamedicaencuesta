<!doctype html>
<html lang="es">

<head>
	<meta charset="utf-8">
   	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

	<title>Zona Médica - Encuesta</title>

	<link rel="icon" type="image/png" href="img/icon.png">
	<link href="plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
	<link href="css/gsdk.css" rel="stylesheet"/>
	<link href="css/demo.css" rel="stylesheet"/>

	<!--     Font Awesome     -->
	<link href="plugins/bootstrap/css/font-awesome.css" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Grand+Hotel" rel="stylesheet" type="text/css">
	
	<style>
		.error {
    		color: #FF3B30;
		}
	</style>
</head>

<body>
	<div class="main">
		<div class="container tim-container">
			<div class="tim-title" align="center">
				<img src="img/logo.png" class="img-responsive" alt="Zona Médica">
				<h2>Encuesta</h2>
			</div>
			
			<form id="Form" method="post" action="#">
			
			
				<div class="row">
					<div class="col-md-8 col-md-offset-2 col-md-12 text-center">
						<div class="row">
							<div class="col-sm-6">
								<div class="form-group">
									<input type="text" name="nombre" id="nombre" placeholder="Nombre" class="form-control"/>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="form-group">
									<input type="email" name="correo" id="correo" placeholder="Correo" class="form-control"/>
								</div>
							</div>
						</div>

						<!--Pregunta 1-->
						<div class="row">
							<div class="tim-title">
								<h3>¿Dónde conociste <strong>Zona Médica</strong> por primera vez?</h3>
							</div>
							<div class="col-sm-2">
								<label class="radio">
									<input type="radio" name="pregunta_1" data-toggle="radio"  value="1">
									<i></i>Doctor
								</label>
							</div>
							<div class="col-sm-2">
								<label class="radio">
									<input type="radio" name="pregunta_1" data-toggle="radio"  value="2">
									<i></i>Internet
								</label>
							</div>
							<div class="col-sm-3">
								<label class="radio">
									<input type="radio" name="pregunta_1" data-toggle="radio"  value="3">
									<i></i>Recomendación (Familiar/amigo)
								</label>
							</div>
							<div class="col-sm-3">
								<label class="radio">
									<input type="radio" name="pregunta_1" data-toggle="radio"  value="4">
									<i></i>Pasando por la calle
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_1" data-toggle="radio"  value="5">
									<i></i>Otro
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_1"></p>
							</div>
						</div>
						

						<div class="row">
							<div class="tim-title">
								<h4 class="text-primary">Por favor evalúa los siguientes enunciados según tu experiencia en <strong>Zona Médica</strong> y el personal siendo 10 la máxima calificación</h4>
							</div>
						</div>


						<!--Pregunta 2-->
						<div class="row">
							<div class="tim-title">
								<h3>¿El personal fue profesional?</h3>
							</div>
							<div class="col-sm-1">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="1">
									<i></i>1
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="2">
									<i></i>2
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="3">
									<i></i>3
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="4">
									<i></i>4
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="5">
									<i></i>5
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="6">
									<i></i>6
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="7">
									<i></i>7
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="8">
									<i></i>8
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="9">
									<i></i>9
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_2" data-toggle="radio"  value="10">
									<i></i>10
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_2"></p>
							</div>
						</div>


						<!--Pregunta 3-->
						<div class="row">
							<div class="tim-title">
								<h3>¿El personal intento ayudarme y cumplir con mis necesidades?</h3>
							</div>
							<div class="col-sm-1">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="1">
									<i></i>1
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="2">
									<i></i>2
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="3">
									<i></i>3
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="4">
									<i></i>4
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="5">
									<i></i>5
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="6">
									<i></i>6
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="7">
									<i></i>7
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="8">
									<i></i>8
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="9">
									<i></i>9
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_3" data-toggle="radio"  value="10">
									<i></i>10
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_3"></p>
							</div>
						</div>


						<!--Pregunta 4-->
						<div class="row">
							<div class="tim-title">
								<h3>¿La atención del personal fue rápida y el servicio muy eficiente?</h3>
							</div>
							<div class="col-sm-1">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="1">
									<i></i>1
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="2">
									<i></i>2
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="3">
									<i></i>3
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="4">
									<i></i>4
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="5">
									<i></i>5
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="6">
									<i></i>6
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="7">
									<i></i>7
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="8">
									<i></i>8
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="9">
									<i></i>9
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_4" data-toggle="radio"  value="10">
									<i></i>10
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_4"></p>
							</div>
						</div>


						<!--Pregunta 5-->
						<div class="row">
							<div class="tim-title">
								<h3>¿El precio estuvo bien?</h3>
							</div>
							<div class="col-sm-1">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="1">
									<i></i>1
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="2">
									<i></i>2
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="3">
									<i></i>3
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="4">
									<i></i>4
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="5">
									<i></i>5
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="6">
									<i></i>6
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="7">
									<i></i>7
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="8">
									<i></i>8
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="9">
									<i></i>9
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_5" data-toggle="radio"  value="10">
									<i></i>10
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_5"></p>
							</div>
						</div>


						<!--Pregunta 6-->
						<div class="row">
							<div class="tim-title">
								<h3>¿Hay una gran variedad de marcas y productos para elegir?</h3>
							</div>
							<div class="col-sm-1">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="1">
									<i></i>1
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="2">
									<i></i>2
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="3">
									<i></i>3
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="4">
									<i></i>4
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="5">
									<i></i>5
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="6">
									<i></i>6
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="7">
									<i></i>7
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="8">
									<i></i>8
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio" value="9">
									<i></i>9
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_6" data-toggle="radio"  value="10">
									<i></i>10
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_6"></p>
							</div>
						</div>


						<!--Pregunta 7-->
						<div class="row">
							<div class="tim-title">
								<h3>¿Le recomentarias <strong>Zona Médica</strong> a tus amigos?</h3>
							</div>
							<div class="col-sm-5">
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_7" data-toggle="radio" value="1">
									<i></i>Sí
								</label>
							</div>
							<div class="col-sm-1">
								<label class="radio">
									<input type="radio" name="pregunta_7" data-toggle="radio" value="2">
									<i></i>No
								</label>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12">
								<p class="has-error" id="error_pregunta_7"></p>
							</div>
						</div>

						<!--Comentarios-->
						<div class="row">
							<div class="tim-title">
								<h3>Comentarios</h3>
							</div>
							<div class="col-sm-12">
								<textarea class="form-control" rows="6"></textarea>
							</div>
						</div>

						<div class="row tim-row">
							<div class="col-sm-12">
								<button type="submit" class="btn btn-block btn-lg btn-info btn-round">Aceptar</button>
							</div>
						</div>



					</div>
				</div>				
			</form>
			
			
		</div>
	</div>
	
	<div class="space-30"></div>

	

</body>

	<script src="js/jquery-1.10.2.js" type="text/javascript"></script>
	<script src="js/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></script>

	<script src="plugins/bootstrap/js/bootstrap.js" type="text/javascript"></script>
	<script src="js/gsdk-radio.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
	<script type="text/javascript" src="cordova.js"></script>
	<script>
		function Guardar()
		{
			var values = {};
			var fields = {};
			
		  	$.each($('#Form').serializeArray(), function(i, field) {
				values[field.name] = field.value;
				console.log('nombre: '+field.name +' Valor: '+field.value);
		  	});
			
			// Enviamos el formulario usando AJAX
			$.ajax({
				type: 'POST',
				url: 'http://zonamedicasureste.com/encuesta/ajax/guardar.php',
				data: values,
				cache:false,
				dataType: "json",
				// Mostramos un mensaje con la respuesta de PHP
				success: function(data) 
				{
					console.log(data);
					switch (data)
					{
						case -1:
						{
							//Error
							Swal.fire({
							  type: 'error',
							  title: 'Oops...',
							  text: 'Ocurrío un error, por favor intente de nuevo.',
							})
							break;	
						}
						case 1:
						{
							Swal.fire({
							  	type: 'success',
							  	title: 'La encuesta se guardó con éxito',
							  	showConfirmButton: false,
								timer: 2500,
								onClose: () => {
									$('html, body').animate({
										scrollTop: $("html").offset().top
									}, 2000);
								}
							});
							$('#Form').closest('form').find("input[type=text], input[type=email], input[type=tel], input[type=number], input[type=password], textarea, select").val("");
							$('input[type="radio"]').prop('checked',false);
							$('.radio').removeClass('checked')
							break;	
						}
					}
					
				}
			})
			return false;
		}
		
						
	</script>
	
	
	<!-- Validate -->
	<script src="plugins/jqueryvalidate/jquery.validate.js"></script>
	<script src="plugins/jqueryvalidate/localization/messages_es.js" type="text/javascript"></script>
	<script>

		$( '#Form' ).validate( {
				errorElement: 'span', //default input error message container
				errorClass: 'error', // default input error message class
				focusInvalid: false, // do not focus the last invalid input
				onfocusout: function ( element ) {
					this.element( element );
				}, //Validate on blur
				onkeyup: function ( element ) {
					this.element( element );
				}, //Validate on keyup
				focusCleanup: true, //If enabled, removes the errorClass from the invalid elements and hides all error messages whenever the element is focused
				ignore: "",
				rules: {
					//CAMBIAR POR LAS VARIABLES QUE SEAN OBLIGATORIAS O NECESITEN VALIDACIÓN
					nombre: {
						required: true
					},
					correo: {
						required: true,
						email: true
					},
					pregunta_1: {
						required:true
					},
					pregunta_2: {
						required:true
					},
					pregunta_3: {
						required:true
					},
					pregunta_4: {
						required:true
					},
					pregunta_5: {
						required:true
					},
					pregunta_6: {
						required:true
					},
					pregunta_7: {
						required:true
					},
				},
				invalidHandler: function(form, validator) {

					if (!validator.numberOfInvalids())
						return;

					$('html, body').animate({
						scrollTop: $(validator.errorList[0].element).offset().top - 100
					}, 2000);

				},

				messages: { // custom messages for radio buttons and checkboxes

				},
				errorPlacement: function ( error, element ) {
					//Agregar mensajes debajo de los elementos
					if (element.is(':radio'))
					{
						error.appendTo($('#error_'+element.attr('name')));
					}
					else
					{
						error.insertAfter( element );
					}
				},
			
				highlight: function ( element ) { // hightlight error inputs
				},

				unhighlight: function ( element ) { // hightlight error inputs
				},

				submitHandler: function ( form ) {
					Guardar();
				}
			} );


		</script>
	
	
	
	
	
</html>